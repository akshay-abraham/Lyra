/*
  @fileoverview Global Stylesheet (`globals.css`).
  @copyright Copyright (C) 2025 Akshay K Rooben Abraham. All rights reserved.

  @description
  This is the main global stylesheet for the entire application. It uses Tailwind CSS's
  `@layer` directive to structure the CSS in a logical order, similar to how layers
  are used in image editing software.

  1. `@tailwind base`: This brings in Tailwind CSS's foundational styles. It's a
     "reset" stylesheet that makes browsers render elements more consistently across
     different vendors (e.g., removes default margins, sets box-sizing).

  2. `@tailwind components`: This layer is for component-specific styles that are
     composed of utility classes. For example, a custom `.btn-primary` class could
     be defined here.

  3. `@tailwind utilities`: This is the most important layer. It brings in all of
     Tailwind's utility classes like `p-4` (padding), `flex` (flexbox), `text-white`,
     etc. These are the building blocks for styling components directly in the JSX.

  C-like Analogy:
  Think of this file as a global `style_config.h`. The `@layer base` section,
  especially where we define CSS variables, is like a series of `#define` statements
  for global constants that can be reused throughout the application's styling.
*/
@tailwind base;
@tailwind components;
@tailwind utilities;

/*
  The `@layer base` directive allows us to add our own custom base styles or
  override default styles provided by Tailwind. It's like defining global
  variables or default styles for core HTML tags.
*/
@layer base {
  /*
    The `:root` selector targets the root element of the document (the `<html>` tag).
    This is where we define our CSS Custom Properties (variables) for our color theme.
    This block defines the default "light mode" theme.

    C-like Analogy:
    Think of these as global constants defined with `#define` in C.
    For example: `#define BACKGROUND_COLOR_HSL "0 0% 100%"`
    These variables can then be reused throughout the CSS using `hsl(var(--variable-name))`.

    The values are in HSL (Hue, Saturation, Lightness) format without the `hsl()` part.
    This is a requirement for how ShadCN UI (our component library) dynamically
    builds color classes like `bg-primary` or `text-destructive`.
  */
  :root {
    --background: 224 71% 4%;
    --foreground: 210 40% 98%;
    --card: 224 71% 10%;
    --card-foreground: 210 40% 98%;
    --popover: 224 71% 4%;
    --popover-foreground: 210 40% 98%;
    --primary: 262.1 83.3% 57.8%;
    --primary-foreground: 210 20% 98%;
    --secondary: 215 28% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 215 28% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 34.9 91.4% 58.2%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 262.1 83.3% 57.8%;
    --chart-1: 210 40% 98%;
    --chart-2: 150 40% 98%;
    --chart-3: 30 40% 98%;
    --chart-4: 270 40% 98%;
    --chart-5: 330 40% 98%;
    --radius: 0.75rem;

    --sidebar-background: 224 71% 6%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 262.1 83.3% 57.8%;
    --sidebar-primary-foreground: 210 20% 98%;
    --sidebar-accent: 215 28% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 215 28% 17%;
    --sidebar-ring: 262.1 83.3% 57.8%;
  }

  /*
    This block defines the "dark mode" theme. It is now the same as light mode
    for a consistent dark theme.
  */
  .dark {
    --background: 224 71% 4%;
    --foreground: 210 40% 98%;
    --card: 224 71% 10%;
    --card-foreground: 210 40% 98%;
    --popover: 224 71% 4%;
    --popover-foreground: 210 40% 98%;
    --primary: 262.1 83.3% 57.8%;
    --primary-foreground: 210 20% 98%;
    --secondary: 215 28% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 215 28% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 34.9 91.4% 58.2%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 262.1 83.3% 57.8%;
    --chart-1: 210 40% 98%;
    --chart-2: 150 40% 98%;
    --chart-3: 30 40% 98%;
    --chart-4: 270 40% 98%;
    --chart-5: 330 40% 98%;

    --sidebar-background: 224 71% 6%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 262.1 83.3% 57.8%;
    --sidebar-primary-foreground: 210 20% 98%;
    --sidebar-accent: 215 28% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 215 28% 17%;
    --sidebar-ring: 262.1 83.3% 57.8%;
  }
}

/*
  This is another `@layer base` block. It's perfectly fine to have multiple.
  Here, we're defining some truly global styles that apply to all elements.
*/
@layer base {
  /*
    The `*` is a universal selector. It applies these styles to EVERY element.
    Here, we're making every element's border color default to our `--border` variable.
    The `@apply` directive is a Tailwind feature that lets you use utility classes
    directly inside your CSS file, which is useful for setting defaults.
  */
  * {
    @apply border-border;
  }
  /*
    This applies default background and text colors to the entire `<body>` of the page.
    It uses the CSS variables we defined above, so it will automatically adapt to
    light or dark mode based on the presence of the `.dark` class on the `<html>` tag.
  */
  body {
    @apply bg-background text-foreground;
  }

  .animated-background {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
    background: radial-gradient(ellipse at 80% 40%, #1c162c, transparent),
      radial-gradient(ellipse at 20% 60%, #3a1c4b, transparent);
    animation: background-pan 20s ease-in-out infinite;
  }

  .animated-background::before,
  .animated-background::after {
    content: '';
    position: absolute;
    width: 300px;
    height: 300px;
    border-radius: 50%;
    opacity: 0.3;
    filter: blur(100px);
  }

  .animated-background::before {
    background-color: hsl(var(--primary) / 0.5);
    top: 10%;
    left: 10%;
    animation: pulse-glow 15s infinite alternate;
  }

  .animated-background::after {
    background-color: hsl(var(--accent) / 0.4);
    bottom: 10%;
    right: 10%;
    animation: pulse-glow 20s infinite alternate-reverse;
  }

  @keyframes background-pan {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  @keyframes pulse-glow {
    from {
      transform: scale(0.8) translate(0, 0);
      opacity: 0.2;
    }
    to {
      transform: scale(1.2) translate(20px, -20px);
      opacity: 0.4;
    }
  }

  /*
    This defines a custom animation called `glow`.
    `@keyframes` is standard CSS for creating animations. This animation creates a
    subtle, pulsing shadow effect using the primary theme color, giving a "glow"
    to important elements like input fields.
  */
  @keyframes glow {
    0%,
    100% {
      box-shadow: 0 0 5px hsl(var(--primary) / 0.2);
    }
    50% {
      box-shadow: 0 0 20px hsl(var(--primary) / 0.5);
    }
  }
  /*
    This creates a utility class `.animate-glow` that we can add to any element
    in our JSX to apply our custom `glow` animation.
  */
  .animate-glow {
    animation: glow 3s ease-in-out infinite;
  }

  /*
    Another custom animation. This one cycles the border color of an element
    through a series of bright, gradient-like colors, creating a "living" border effect.
  */
  @keyframes colorful-border {
    0% {
      border-color: hsl(262, 83%, 58%);
    }
    25% {
      border-color: hsl(310, 83%, 58%);
    }
    50% {
      border-color: hsl(34, 91%, 58%);
    }
    75% {
      border-color: hsl(180, 83%, 58%);
    }
    100% {
      border-color: hsl(262, 83%, 58%);
    }
  }

  /*
    A utility class to apply the colorful border animation to an element.
  */
  .animate-colorful-border {
    border-width: 1px;
    border-style: solid;
    animation: colorful-border 5s linear infinite;
  }

  /*
    A utility class to create gradient-colored text.
    It applies a background gradient and then "clips" that background to the text,
    making the text itself appear to be a gradient. The text color is set to
    transparent to allow the background gradient to show through.
  */
  .gradient-text {
    background: linear-gradient(
      45deg,
      hsl(var(--primary)),
      hsl(var(--accent)),
      hsl(310, 83%, 58%)
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 200% 200%;
    animation: gradient-animation 4s ease infinite;
  }

  /* The animation that makes the text gradient shift its position over time. */
  @keyframes gradient-animation {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
}
